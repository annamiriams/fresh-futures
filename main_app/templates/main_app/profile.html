{% extends 'layout.html' %}
{% load static %}
{% block content %}

<div class='container'>

    <div class='gardener-container'>
        <h1 class="fredoka-serif header-text">Welcome, {{ user.first_name }}!</h1>
    </div>

    <!-- Garden Card Section -->
    {% if gardens %}
    {% for garden in gardens %}
    <div class="garden-card">
        <!-- Garden Header -->
        <div class="garden-header">
            <div class="garden-icon">ðŸŒ±</div>
            <div class="garden-info">
                <h3 class="garden-name">{{ garden.name }}</h3>
                <p class="garden-date">Founded {{ garden.created_at|date:"M jS, Y" }}</p>
            </div>
        </div>

        <!-- Garden Stats -->
        <div class="garden-stats">
            <div class="stat-item">
                <div class="stat-number">{{ garden.plants_to_grow.count|default:"0" }}</div>
                <div class="stat-label">Plants Growing</div>
            </div>
            
            <div class="stat-item">
                <div class="stat-number">0</div>
                <div class="stat-label">Volunteers</div>
            </div>
            
            <div class="stat-item">
                <div class="stat-number">0</div>
                <div class="stat-label">Donations</div>
            </div>
        </div>
    </div>
    {% endfor %}
    {% endif %}

    <!-- PROFILE MAP SECTION -->
<div class="profile-map-section">
    <h2 class="text-lg instrument-serif">Your Gardens Map</h2>
    
    {% include 'main_app/includes/gardener-profile-map.html' with gardener=user gardener_gardens=gardens %}
</div>
<!-- END PROFILE MAP SECTION -->

    <div class='tasks-container'>
        <h2 class='text-lg fredoka-serif'>This Week's Tasks</h2>

        <ul class='task-list'>
            <div class='task-container'>
                <label class='task-item'>
                    <input type="checkbox">
                    <span class="checkmark"></span>
                    <div class="task-text">
                        <div class="task-title">Create mission statement for garden</div>
                        <p>Determine what your goals are</p>
                    </div>
                </label>
            </div>
            
            <div class='task-container'>
                <label class='task-item'>
                    <input type="checkbox">
                    <span class="checkmark"></span>
                    <div class="task-text">
                        <div class="task-title">Visit garden location(s)</div>
                        <p>Take photos, make note of sun exposure</p>
                    </div>
                </label>
            </div>

            <div class='task-container'>
                <label class='task-item'>
                    <input type="checkbox">
                    <span class="checkmark"></span>
                    <div class="task-text">
                        <div class="task-title">Document garden dimensions</div>
                        <p>This will be helpful with mapping the garden</p>
                    </div>
                </label>
            </div>

            <div class='task-container'>
                <label class='task-item'>
                    <input type="checkbox">
                    <span class="checkmark"></span>
                    <div class="task-text">
                        <div class="task-title">Talk with the city</div>
                        <p>For help with finding public land, permits, etc.</p>
                    </div>
                </label>
            </div>

            <div class='task-container'>
                <label class='task-item'>
                    <input type="checkbox">
                    <span class="checkmark"></span>
                    <div class="task-text">
                        <div class="task-title">Contact land owner and obtain</div>
                        <p>Obtain permissions to start a garden</p>
                    </div>
                </label>
            </div>
            
            <div class='task-container'>
                <label class='task-item'>
                    <input type="checkbox">
                    <span class="checkmark"></span>
                    <div class="task-text">
                        <div class="task-title">Determine what crops will grow best</div>
                        <p>Consult with BeetBot for ideas</p>
                    </div>
                </label>
            </div>
            
            <div class='task-container'>
                <label class='task-item'>
                    <input type="checkbox">
                    <span class="checkmark"></span>
                    <div class="task-text">
                        <div class="task-title">Brainstorm ways to gather support</div>
                        <p>How will you access water, seeds, volunteers?</p>
                    </div>
                </label>
            </div>
        </ul>
    </div>

</div>
{% endblock %}